{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block body %}
	<style>
		body {
			background: url('{{ asset('assets/images/licorne.jpg') }}') no-repeat center center fixed;
			background-size: cover;
			backdrop-filter: blur(2px);
		}

		.block-links {
			background-color: white;
			padding: 3rem;
			border-radius: 10px;
		}

		.opacity-link {
			opacity: 100% !important;
		}


		.stars-container {
			position: fixed;
			top: 0;
			left: 0;
			pointer-events: none;
			z-index: 9999;
		}

		.star {
			position: absolute;
			background-color: #ffffff;
			width: 2px;
			height: 2px;
			border-radius: 50%;
			animation: twinkle 1s infinite;
		}

		@keyframes twinkle {
			0% {
				opacity: 0;
				transform: translateY(0);
			}
			50% {
				opacity: 1;
				transform: translateY(-10px);
			}
			100% {
				opacity: 0;
				transform: translateY(0);
			}
		}
	</style>

	{% for message in app.flashes('reussit_login') %}
		<div class="alert alert-success">
			{{ message }}
		</div>
	{% endfor %}
	<div class="d-flex justify-content-center align-items-center" style="min-height: 100vh;">
		<div class="text-center block-links">
			<h1 class="opacity-link">Bienvenue sur Licorne Adventures</h1>
			<a class="btn btn-primary mb-2 opacity-link" href="{{ path('app_login') }}">Se connecter</a><br>
			<a class="btn btn-secondary mb-2 opacity-link" href="{{ path('app_register') }}">S'inscrire</a><br>
			<a class="btn btn-danger mb-2 opacity-link" href="{{ path('page_admin') }}">Page des scenario (Admin)</a><br>
			<a class="btn btn-warning opacity-link" href="http://127.0.0.1:8000/licorne/">Jouer</a><br>
			{% if app.user %}
				<div class="mt-3">
					Vous êtes connecté en tant que
					{{ app.user.userIdentifier }},
					<a href="{{ path('app_logout') }}">Déconnexion</a>
				</div>
			{% endif %}
		</div>
	</div>
	 <script>
	        document.addEventListener('DOMContentLoaded', function () {
	            const starsContainer = document.querySelector('.stars-container');
	
	            document.addEventListener('mousemove', function (e) {
	                const star = document.createElement('div');
	                star.className = 'star';
	                star.style.left = e.clientX + 'px';
	                star.style.top = e.clientY + 'px';
	
	                starsContainer.appendChild(star);
	
	                // Supprimer l'étoile après un certain délai
	                setTimeout(() => {
	                    starsContainer.removeChild(star);
	                }, 1000);
	            });
	        });
	    </script>
{% endblock %}
